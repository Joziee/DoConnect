<div>
    <div id="page-wrapper" ng-controller="PatientsController">
        <div class="row">
            <div class="col-lg-12">
                <h2 class="page-header text-primary">{{PageTitle_NewPatient}}</h2>
            </div>
        </div>
        
        <ul class="nav nav-tabs">
            <li role="presentation"><a href="/Patients"><i class="fa fa-align-justify"></i>Patient List</a></li>
            <li role="presentation" class="active"><a href="/NewPatient"><i class="fa fa-plus-circle"></i>New Patient</a></li>
        </ul>

        <!--Add Patient Modal-->
        <form name="Form" novalidate>
            <div style="margin:auto; width:100%;">
                <div class="modal-header" style="border-bottom:0px;"></div>
                <div class="modal-body">
                    <div class="row col-md-12" style="margin-top:6px; margin-bottom:6px;"><label class="caption-subject font-green-steel uppercase bold">General Information</label></div>
                    <div class="row" style="margin-top:6px; margin-bottom:6px;">
                        <div class="col-md-1"><h5 class="form-control-label">Firstname:</h5></div>
                        <div class="col-md-3"><input type="text" class="form-control" ng-model="FirstName" name="FirstName" ng-required="true" ng-pattern="/^[a-zA-Z''-'\s]{3,40}$/"></div>
                        <div class="col-md-1"><h5 class="form-control-label">Lastname:</h5></div>
                        <div class="col-md-3"><input type="text" class="form-control" ng-model="LastName" name="LastName" ng-required="true" ng-pattern="/^[a-zA-Z''-'\s]{3,40}$/"></div>
                        <div class="col-md-1"><h5 class="form-control-label">Email:</h5></div>
                        <div class="col-md-3"><input type="email" class="form-control" ng-model="User_ID" name="User_ID" ng-required="true" ng-pattern="/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/"></div>
                    </div>
                    <div class="row" style="margin-top:6px; margin-bottom:6px;">
                        <div class="col-md-1"><h5>ID Number:</h5></div>
                        <div class="col-md-3"><input type="text" class="form-control" ng-model="ID_Number" name="ID_Number" ng-required="true" ng-pattern="/^[0-9\s]{3,}$/"></div>
                        <div class="col-md-1"><h5>Cell Number:</h5></div>
                        <div class="col-md-3"><input type="text" class="form-control" ng-model="Cell_Number" name="Cell_Number" ng-required="true" ng-pattern="/^[01]?[- .]?(\([0-9]\d{2}\)|[0-9]\d{2})[- .]?\d{3}[- .]?\d{4}$/" placeholder="089 999 9999"></div>
                        <div class="col-md-1"><h5>DOB:</h5></div>
                        <div class="col-md-3">
                            <div class="row" style="padding-left:0px; padding-right:0px;">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <div class="input-group date datetimepicker" onclick="DT()">
                                            <input class="form-control" type="text" data-format="dd-mm-yyyy" ng-model="DOB" name="DOB" ng-required="true" ng-pattern="/^(0?[1-9]|1\d|2[0-8]|29(?=[-]\d?\d[-](?!1[01345789]00|2[1235679]00)\d\d(?:[02468][048]|[13579][26]))|30(?![-]0?2)|31(?=[-]0?[13578]|[-]1[02]))[-](0?[1-9]|1[0-2])[-]([12]\d{3})$/">
                                            <span class="input-group-addon">
                                                <span class="glyphicon glyphicon-calendar"></span>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row" style="margin-top:6px; margin-bottom:6px;">
                        <div class="col-md-1"><h5>Gender:</h5></div>
                        <div class="col-md-3">
                            <select ng-model="Gender" class="form-control required input-sm" name="Gender" ng-required="true">
                                <option value="1">Male</option>
                                <option value="2">Female</option>
                            </select>
                        </div>
                        <div class="col-md-1"><h5>Street Address:</h5></div>
                        <div class="col-md-3"><input type="text" class="form-control" ng-model="Street_Address" name="Street_Address" ng-required="true" ng-pattern="/^[0-9a-zA-Z''-'\s]{3,}$/"></div>
                        <div class="col-md-1"><h5>Suburb:</h5></div>
                        <div class="col-md-3"><input type="text" class="form-control" ng-model="Suburb" name="Suburb" ng-required="true" ng-pattern="/^[A-Za-z\s]{3,}$/"></div>
                    </div>
                    <div class="row" style="margin-top:6px; margin-bottom:15px; padding-bottom:15px; border-bottom: 1px solid #ddd;">
                        <div class="col-md-1"><h5>City:</h5></div>
                        <div class="col-md-3"><input type="text" class="form-control" ng-model="City" name="City" ng-required="true" ng-pattern="/^[A-Za-z\s]{3,}$/"></div>
                        <div class="col-md-1"><h5>Country:</h5></div>
                        <div class="col-md-3"><input type="text" class="form-control" ng-model="Country" name="Country" ng-required="true" ng-pattern="/^[A-Za-z\s]{3,}$/"></div>
                    </div>

                    <div class="row col-md-12" style="margin-top:6px; margin-bottom:10px;"><label class="caption-subject font-green-steel uppercase bold">Insurance Information</label></div>
                    <div class="row" style="margin-top:6px; margin-bottom:6px;">
                        <div class="col-md-1"><h5>Medical Aid Provider:</h5></div>
                        <div class="col-md-3">
                            <select class="form-control required input-sm" ng-model="Medical_Aid_ID" name="Medical_Aid_ID" ng-required="true">
                                <option value="">Please choose Medical Aid Provider</option>
                                <option value="1">Discovery</option>
                                <option value="2">A</option>
                                <option value="3">B</option>
                            </select>
                        </div>
                        <div class="col-md-1"><h5>Scheme Name:</h5></div>
                        <div class="col-md-3"><input type="text" class="form-control" ng-model="SchemeName" name="SchemeName" ng-required="true" ng-pattern="/^[A-Za-z\s]{3,}$/"></div>
                        <div class="col-md-1"><h5>Membership Number:</h5></div>
                        <div class="col-md-3"><input type="text" class="form-control" ng-model="MembershipNumber" name="MembershipNumber" ng-required="true" ng-pattern="/^([0-9]{5,5})$/"></div>
                    </div>
                    <div class="row" style="margin-top:6px; margin-bottom:15px; border-bottom: 1px solid #ddd;">
                        <div class="col-md-1"><h5>Registration Date:</h5></div>
                        <div class="col-md-3">
                            <div class="row" style="padding-left:0px; padding-right:0px;">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <div class="input-group date datetimepicker" onclick="DT()">
                                            <input class="form-control" type="text" data-format="dd-mm-yyyy" ng-model="RegistrationDate" name="RegistrationDate" ng-required="true" ng-pattern="/^(0?[1-9]|1\d|2[0-8]|29(?=[-]\d?\d[-](?!1[01345789]00|2[1235679]00)\d\d(?:[02468][048]|[13579][26]))|30(?![-]0?2)|31(?=[-]0?[13578]|[-]1[02]))[-](0?[1-9]|1[0-2])[-]([12]\d{3})$/">
                                            <span class="input-group-addon">
                                                <span class="glyphicon glyphicon-calendar"></span>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-1"><h5>Expiry Date:</h5></div>
                        <div class="col-md-3">
                            <div class="row" style="padding-left:0px; padding-right:0px;">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <div class="input-group date datetimepicker" onclick="DT()">
                                            <input class="form-control" type="text" data-format="dd-mm-yyyy" ng-model="ExpiryDate" name="ExpiryDate" ng-required="true" ng-pattern="/^(0?[1-9]|1\d|2[0-8]|29(?=[-]\d?\d[-](?!1[01345789]00|2[1235679]00)\d\d(?:[02468][048]|[13579][26]))|30(?![-]0?2)|31(?=[-]0?[13578]|[-]1[02]))[-](0?[1-9]|1[0-2])[-]([12]\d{3})$/">
                                            <span class="input-group-addon">
                                                <span class="glyphicon glyphicon-calendar"></span>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row col-md-12" style="margin-top:6px; margin-bottom:10px;"><label class="caption-subject font-green-steel uppercase bold">Health Summary</label></div>
                    <div class="row" style="margin-top:6px; margin-bottom:10px;">
                        <div class="col-md-4"><h5>Allergies:</h5> <textarea class="form-control" rows="3" cols="20" ng-model="Allergies" name="Allergies" ng-required="true" ng-pattern="/^[0-9a-zA-Z.,'-'\s]{3,}$/"></textarea></div>
                        <div class="col-md-4"><h5>Previous Medication:</h5> <textarea class="form-control" rows="3" cols="20" ng-model="PreviousMedication" name="PreviousMedication" ng-required="true" ng-pattern="/^[0-9a-zA-Z.,'-'\s]{3,}$/"></textarea></div>
                        <div class="col-md-4"><h5>Previous Illnesses:</h5> <textarea class="form-control" rows="3" cols="20" ng-model="PreviousIllnesses" name="PreviousIllnesses" ng-required="true" ng-pattern="/^[0-9a-zA-Z.,'-'\s]{3,}$/"></textarea></div>
                    </div>
                    <div class="row" style="margin-top:6px;">
                        <div class="col-md-4"><h5>Risk Factors:</h5> <textarea class="form-control" rows="3" cols="20" ng-model="RiskFactors" name="RiskFactors" ng-required="true" ng-pattern="/^[0-9a-zA-Z.,'-'\s]{3,}$/"></textarea></div>
                        <div class="col-md-4"><h5>Social History:</h5> <textarea class="form-control" rows="3" cols="20" ng-model="SocialHistory" name="SocialHistory" ng-required="true" ng-pattern="/^[0-9a-zA-Z.,'-'\s]{3,}$/"></textarea></div>
                        <div class="col-md-4"><h5>Family History:</h5> <textarea class="form-control" rows="3" cols="20" ng-model="FamilyHistory" name="FamilyHistory" ng-required="true" ng-pattern="/^[0-9a-zA-Z.,'-'\s]{3,}$/"></textarea></div>
                    </div>
                </div>
                <div class="row col-md-12">
                    <ul>
                        <li ng-repeat="(key, errors) in Form.$error track by $index">
                            <strong>{{ key }}</strong> errors
                            <ul>
                                <li ng-repeat="e in errors">{{ e.$name }} has an error: <strong>{{ key }}</strong>.</li>
                            </ul>
                        </li>
                    </ul>
                </div> 
                <div class="modal-footer">
                   <button type="button" class="btn btn-primary" ng-click="InsertPatient(FirstName, LastName, ID_Number, Gender, DOB, Cell_Number, Street_Address, Suburb, City, Country, Allergies, PreviousIllnesses, PreviousMedication, RiskFactors, SocialHistory, FamilyHistory, Medical_Aid_ID, Doctor_ID, User_ID)" ng-disabled="Form.$invalid">Add Patient</button>
                </div>
            </div>
        </form><!--Add Patient Modal Ends-->
    </div>
</div>


